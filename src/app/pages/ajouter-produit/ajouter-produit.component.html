<div class="card">
  <h2>Ajouter un Produit</h2>

  <form [formGroup]="produitForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label>Nom du produit</label>
      <input pInputText formControlName="nom" />
    </div>

    <div class="form-group">
      <label>Prix (FCFA)</label>
      <p-inputNumber formControlName="prix" [min]="1" [showButtons]="true"></p-inputNumber>
    </div>

    <div class="form-group">
      <label>Description</label>
      <input pInputText formControlName="description" />
    </div>

    <div class="form-group">
      <label>Fournisseur (nom)</label>
      <input pInputText formControlName="fournisseurNom" placeholder="Ex: Fournisseur A" />
    </div>

    <div class="form-group">
      <label>Cat√©gories</label>
      <div *ngFor="let cat of categoriesDisponibles">
        <p-checkbox
          [value]="cat.id"
          (change)="onCheckboxChange($event, cat.id)"
          inputId="cat-{{cat.id}}"
        ></p-checkbox>
        <label for="cat-{{cat.id}}">{{ cat.nom }}</label>
      </div>
    </div>

    <button pButton type="submit" label="Enregistrer" icon="pi pi-check"
            [disabled]="produitForm.invalid || loading"></button>
  </form>

  <p *ngIf="loading">Enregistrement en cours...</p>
  <p *ngIf="successMessage">{{ successMessage }}</p>
</div>
